stages:
  - publish

publish_to_pypi:
  stage: publish
  tags: 
    - shell # runner tags
    - linux
  script:
    # this will implicitly call poetry with the default settings on server  
    - poetry_default
  artifacts:
    paths:
      - dist/  # Save the 'dist' directory containing the built package
    expire_in: 1 week  # Artifacts will be deleted after 1 week
  only:
    - tags  # Publish only on tagged commits


